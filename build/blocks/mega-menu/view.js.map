{"version":3,"file":"blocks/mega-menu/view.js","mappings":"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","sources":["webpack://boilerplate/external module \"@wordpress/interactivity\"","webpack://boilerplate/webpack/bootstrap","webpack://boilerplate/webpack/runtime/make namespace object","webpack://boilerplate/./src/blocks/mega-menu/view.js"],"sourcesContent":["var x = function(y) {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = function(x) { return function() { return x; }; }\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * WordPress dependencies\r\n */\r\nimport { store, getContext, getElement } from '@wordpress/interactivity';\r\n\r\nconst { state, actions } = store('create-block/mega-menu-block', {\r\n\tstate: {\r\n\t\tget isMenuOpen() {\r\n\t\t\treturn (\r\n\t\t\t\tObject.values(state.menuOpenedBy).filter(Boolean).length > 0\r\n\t\t\t)\r\n\t\t},\r\n\r\n\t\tget menuOpenedBy() {\r\n\t\t\tconst context = getContext();\r\n\r\n\t\t\treturn context.menuOpenedBy;\r\n\t\t}\r\n\t},\r\n\r\n\tactions: {\r\n\t\ttoggleMenuOnClick() {\r\n\t\t\tconst context = getContext();\r\n\t\t\tconst { ref } = getElement();\r\n\r\n\t\t\tif (state.menuOpenedBy.click || state.menuOpenedBy.focus) {\r\n\t\t\t\tactions.closeMenu('click');\r\n\t\t\t\tactions.closeMenu('focus');\r\n\t\t\t} else {\r\n\t\t\t\tcontext.previousFocus = ref;\r\n\t\t\t\tactions.openMenu('click');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseMenuOnClick() {\r\n\t\t\tactions.closeMenu('click');\r\n\t\t\tactions.closeMenu('focus');\r\n\t\t},\r\n\r\n\t\thandleMenuKeydown(event) {\r\n\t\t\tif (state.menuOpenedBy.click) {\r\n\t\t\t\t// If Escape close the menu.\r\n\t\t\t\tif (event?.key === 'Escape') {\r\n\t\t\t\t\tactions.closeMenu('click');\r\n\t\t\t\t\tactions.closeMenu('focus');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenMenu(menuOpenedOn = 'click') {\r\n\t\t\tstate.menuOpenedBy[menuOpenedOn] = true;\r\n\t\t},\r\n\r\n\t\tcloseMenu(menuClosedOn = 'click') {\r\n\t\t\tconst context = getContext();\r\n\t\t\tstate.menuOpenedBy[menuClosedOn] = false;\r\n\r\n\t\t\t// Reset the menu reference and button focus when closed.\r\n\t\t\tif (!state.isMenuOpen) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tcontext.megaMenu?.contains(window.document.activeElement)\r\n\t\t\t\t) {\r\n\t\t\t\t\tcontext.previousFocus?.focus();\r\n\t\t\t\t}\r\n\t\t\t\tcontext.previousFocus = null;\r\n\t\t\t\tcontext.megaMenu = null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\r\n\tcallbacks: {\r\n\t\tinitMenu() {\r\n\t\t\tconst context = getContext();\r\n\t\t\tconst { ref } = getElement();\r\n\r\n\t\t\t// Set the menu reference when initialized.\r\n\t\t\tif (state.isMenuOpen) {\r\n\t\t\t\tcontext.megaMenu = ref;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\n"],"names":["store","getContext","getElement","_store","state","isMenuOpen","Object","values","menuOpenedBy","filter","Boolean","length","context","actions","toggleMenuOnClick","_getElement","ref","click","focus","closeMenu","previousFocus","openMenu","closeMenuOnClick","handleMenuKeydown","event","key","menuOpenedOn","arguments","undefined","menuClosedOn","_context$megaMenu","megaMenu","contains","window","document","activeElement","_context$previousFocu","callbacks","initMenu","_getElement2"],"sourceRoot":""}